// === NUEVOS FILTROS ===
const btnAyer  = document.getElementById('btnAyer');
const btnUlt7  = document.getElementById('btnUlt7');

// hoy
btnHoy.addEventListener('click', ()=>{
  const d = new Date();
  d.setHours(0,0,0,0);
  const from = d.getTime();
  const to = from + 24*60*60*1000 - 1;
  range = { from, to };
  fromInp.value = ymdLocal(d);
  toInp.value   = ymdLocal(d);
  render();
});

// ayer
btnAyer.addEventListener('click', ()=>{
  const d = new Date();
  d.setHours(0,0,0,0);
  const to = d.getTime() - 1;
  const from = to - 24*60*60*1000 + 1;
  range = { from, to };
  const dFrom = new Date(from);
  const dTo   = new Date(to);
  fromInp.value = ymdLocal(dFrom);
  toInp.value   = ymdLocal(dTo);
  render();
});

// últimos 7 días
btnUlt7.addEventListener('click', ()=>{
  const now = new Date();
  now.setHours(23,59,59,999);
  const to = now.getTime();
  const from = to - 7*24*60*60*1000;
  range = { from, to };
  fromInp.value = ymdLocal(new Date(from));
  toInp.value   = ymdLocal(new Date(to));
  render();
});
